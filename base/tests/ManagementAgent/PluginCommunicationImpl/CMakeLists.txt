include(GoogleTest)
add_executable(plugincommunicationimpltests TestPluginServerCallbackHandler.cpp MockPluginServerCallback.h)
target_include_directories(plugincommunicationimpltests SYSTEM BEFORE PUBLIC "${gtest_SOURCE_DIR}/include" "${gmock_SOURCE_DIR}/include")
target_include_directories(plugincommunicationimpltests BEFORE PUBLIC "${gtest_SOURCE_DIR}" "${gmock_SOURCE_DIR}" "${gmock_SOURCE_DIR}/include")
target_link_libraries(plugincommunicationimpltests gtest gtest_main gmock)
target_link_libraries(plugincommunicationimpltests plugincommunicationimpl pluginapiimpl applicationconfigurationimpl threads zeromqwrapperimpl testhelpers)
gtest_discover_tests(plugincommunicationimpltests)