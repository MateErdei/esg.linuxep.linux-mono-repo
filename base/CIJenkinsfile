@Library("tap-pipe")

def params = [
    choice(name: 'MODE', choices: ['release', 'coverage','analysis', 'debug'], defaultValue: 'release', description: 'Build mode'),
    booleanParam(name: 'run_tests', defaultValue: true, description: 'Run Test Automation in TAP'),
    booleanParam(name: 'run_debian_10', defaultValue: true, description: 'Run TAP on Debian 10'),
    booleanParam(name: 'run_debian_11', defaultValue: true, description: 'Run TAP on Debian 11'),
    booleanParam(name: 'run_sles_12', defaultValue: true, description: 'Run TAP on SLES 12'),
    booleanParam(name: 'run_sles_15', defaultValue: true, description: 'Run TAP on SLES 15'),
    booleanParam(name: 'run_ubuntu_18_04', defaultValue: true, description: 'Run TAP on Ubuntu 18.04'),
    booleanParam(name: 'run_ubuntu_20_04', defaultValue: true, description: 'Run TAP on Ubuntu 20.04'),
    booleanParam(name: 'run_ubuntu_22_04', defaultValue: false, description: 'Run TAP on Ubuntu 22.04'),
    booleanParam(name: 'INCLUDE_BUILD_IN_PIPELINE', defaultValue: true, description: 'Perform a build via the pipeline: unified builds'),
    string(name: 'test_type', defaultValue: 'regression', description: 'Test type [regression|faultinjection]'),
    string(name: 'robot_test', defaultValue: '', description: 'Optional specific Robot test to run'),
    string(name: 'robot_suite', defaultValue: '', description: 'Optional specific Robot suite to run'),
]

CIPipeline { pipelineEntryPoint = 'sspl_base'; buildParameters = params }
