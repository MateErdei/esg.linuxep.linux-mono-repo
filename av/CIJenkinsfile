@Library("tap-pipe")

def params = [
    string(name: 'MODE', defaultValue: 'release', description: 'Build mode [release|coverage]'),
    booleanParam(name: 'run_tests', defaultValue: true, description: 'Run Test Automation (default everywhere)'),
    booleanParam(name: 'force_run_aws_tests', defaultValue: false, description: 'Run Test Automation in AWS (default in develop & release)'),
    booleanParam(name: 'inhibit_run_aws_tests', defaultValue: false, description: 'Do not run Test Automation in AWS (default in feature & bugfix)'),
    booleanParam(name: 'force_run_coverage', defaultValue: false, description: 'Run Coverage (default in develop & release)'),
    booleanParam(name: 'inhibit_run_coverage', defaultValue: false, description: 'Do not run Coverage (default in feature & bugfix)'),
    booleanParam(name: 'force_run_cppcheck', defaultValue: false, description: 'Run Static Analysis (default in feature, bugfix & develop'),
    booleanParam(name: 'inhibit_run_cppcheck', defaultValue: false, description: 'Do not run Static Analysis (default in release)'),
    booleanParam(name: 'force_build_999', defaultValue: false, description: 'Build 999 build (default in develop)'),
    booleanParam(name: 'inhibit_build_999', defaultValue: false, description: 'Do not build 999 build (default in feature, bugfix & release)'),
]

CIPipeline { pipelineEntryPoint = 'av_plugin'; buildParameters = params }
