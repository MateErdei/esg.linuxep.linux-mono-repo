
library "standardPipeline"

properties([
  parameters([
    string(name: 'CommitHash', defaultValue: ''),
    string(name: 'PortalId', defaultValue: ''),
    string(name: 'PortalAddress', defaultValue: '')
  ])
])

skipDefaultCheckout()
try{
    // PreBuild(params.CommitHash, params.PortalId, params.PortalAddress)

    parallel Build:{
        ArtisanBuild(
            params.CommitHash,
            params.PortalId,
            'versig',
            'versig-build',
            'release-package.xml',
            'Linux Test',
            "2.0.0",
            "master",
            '',
            '',
            ''
              )
        }

    // SuccessfulBuild(params.CommitHash, params.PortalId, params.PortalAddress)
} catch(e){
    // FailedBuild(params.CommitHash, params.PortalId, params.PortalAddress)
    error('Failed Build')
}
