#!/usr/bin/env groovy
library "tap-pipe"

def params = [
    booleanParam(name: 'SPEC_ONLY', defaultValue: false,
                     description: 'Do not build any dev warehouses - spec only change'),
    booleanParam(name: 'EDR_999', defaultValue: true,
                     description: 'Build EDR-999 warehouses'),
    booleanParam(name: 'BASE_999', defaultValue: true,
                    description: 'Build BASE-999 warehouses'),
    booleanParam(name: 'QUERY_PACK', defaultValue: true,
                    description: 'Build QUERY-PACK warehouses'),
    booleanParam(name: 'MDR_999', defaultValue: true,
                     description: 'Build MDR-999 warehouses'),
    booleanParam(name: 'ZERO_SIX_ZERO', defaultValue: true,
                     description: 'Build 060 warehouses'),
    booleanParam(name: 'RUN_TESTS', defaultValue: true,
                     description: 'Run TAP tests'),
    booleanParam(name: 'PROD', defaultValue: false,
                 description: 'Build production SDDS3 repo? (builds if checked OR on release branches)'),
    booleanParam(name: 'DEV', defaultValue: true,
                 description: 'Build dev SDDS3 repo? (builds if checked AND NOT on release branches)'),
]

CIPipeline { pipelineEntryPoint = 'warehouse'; buildParameters = params }
